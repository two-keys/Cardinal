<div id="<%= dom_id prompt %>" class="card primary prompt mini">
  <div class="prompt_info">
    <% if can? :view_users, prompt %>
      <%= link_to "PROFILE", edit_admin_user_path(prompt.user) %> |
    <% end %>
    <span class="type_notif <% prompt.status %>">
      <strong>
        POSTED BY <% if prompt.pseudonym.nil? %>anonymous<% else %><%= prompt.pseudonym.name%><% end %>
      </strong>
      <% if prompt.draft? %>
        | DRAFT
      <% end %>
      <% if prompt.locked? %>
        | LOCKED
      <% end %>
    </span>
    <div class="tags">
      <%= render partial: 'prompts/mini_tags', locals: { prompt: prompt} %>
    </div>
    <span class="slots">
      <strong><u><%= prompt.default_slots %></u> SLOTS</strong>
    </span>
    <span class="managed">
      <strong>
        <% unless prompt.managed? %>UN-<% end %>MANAGED
      </strong>
    </span>
  </div>

  <% if prompt.ooc.present? %>
    <div>
      <%= prompt.mark_ooc %>
    </div>
  <% end %>

  <% if prompt.ooc.present? && prompt.starter.present? %>
    <hr />
  <% end %>

  <% if prompt.starter.present? %>
    <div>
      <%= prompt.mark_starter %>
    </div>
  <% end %>
  
  <hr />

  <span class="prompt_date_time">
    <!-- Display the date and time of the prompt  -->
    <%= link_to (prompt.bumped_at || prompt.created_at).strftime("%Y-%m-%d %k:%M:%S"), prompt %>
  </span>

  <% if can? :edit, prompt %>
    <%= link_to "Edit", edit_prompt_path(prompt), class: "prompt_edit_link" %>
  <% end %>

  <ul class="prompt_actions">
    <% if can?(:edit, prompt) && prompt.bumpable? %>
      <li><%= button_to "Bump", prompt_bump_path(prompt), method: :put %></li>
    <% end %>
    <% if can?(:answer, prompt) %>
      <li><%= button_to "Answer", prompt_answer_path(prompt), method: :post %></li>
    <% end %>
  </ul>
</div>
